<fast-design-system-provider use-defaults>
    <style>
        .container {
            position: relative;
            height: 400px;
            width: 400px;
            background: lightgray;
            overflow: hidden;
        }

        .container.large {
            width: 800px;
        }

        .sized-card {
            width: 150px;
            height: 150px;
        }

        .card-styled {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        fast-popover::part(popover) {
            margin: 5px;
        }

        fast-text-field {
            margin: 5px;
        }

        fast-text-field.real-world {
            display: block;
        }
        fast-card.real-world {
            width: 200px;
        }

        fast-text-field.large-perf {
            display: inline-block;
            width: 100px;
        }
        fast-card.large-perf {
            width: 550px;
            display: flex;
            flex-wrap: wrap;
        }
    </style>
    <h1>Popover</h1>

    <h2>Default</h2>
    <div class="container">
        <fast-popover target="target-default" id="myPopover">
            <fast-card>
                Popover Content
            </fast-card>
            <div>test div</div>
        </fast-popover>

        <fast-button
            id="target-default"
            style="margin: 200px;"
            onclick="(e) => e.stopPropagation();document.body.querySelector('#myPopover').visible = !(document.body.querySelector('#myPopover').visible)"
            tabindex="0"
        >
            target
        </fast-button>
    </div>

    <!-- <h2>Always Visible</h2>
    <div class="container">
        <fast-popover visible target="target-always-vis" id="myPopoverVis">
            <fast-card style="margin-bottom: 5px">
                Popover Content
            </fast-card>
            <fast-button
                appearance="stealth"
                style="align-self: flex-end; justify-self: flex-start;"
                onclick="(e) => e.stopPropagation();document.body.querySelector('#myPopoverVis').visible = !(document.body.querySelector('#myPopoverVis').visible)"
                tabindex="0"
            >
                X
        </fast-button>
            <fast-button
                appearance="stealth"
                style="align-self: flex-end; justify-self: flex-start;"
                tabindex="0"
                autofocus
            >
                Should Autofocus
        </fast-button>

        </fast-popover>

        <fast-button
            id="target-always-vis"
            style="margin: 200px;"
            onclick="(e) => e.stopPropagation();document.body.querySelector('#myPopoverVis').visible = !(document.body.querySelector('#myPopoverVis').visible)"
        >
            target
        </fast-button>
    </div> -->

    <h2>Focusable Items</h2>
    <div class="container">
        <fast-popover target="target-focusable" id="myPopoverOne">
            <fast-button
                appearance="stealth"
                style="align-self: flex-end; justify-self: flex-start;"
                onclick="document.querySelector('#myPopoverOne').visible = false;"
                tabindex="0"
            >
                X
            </fast-button>
            <fast-button
                appearance="stealth"
                style="align-self: flex-end; justify-self: flex-start;"
                tabindex="0"
            >
                Test Button
            </fast-button>
        </fast-popover>

        <fast-button
            id="target-focusable"
            style="margin: 200px;"
            onclick="(e) => e.stopPropagation(); document.body.querySelector('#myPopoverOne').visible = !(document.body.querySelector('#myPopoverOne').visible)"
        >
            target
        </fast-button>
    </div>

    <h2>Focusable Items and Autofocus Element</h2>
    <div class="container">
        <fast-popover
            target="target-focusable-autofocus"
            id="myPopoverTrapFocusAutofocus"
        >
            <fast-button
                appearance="stealth"
                style="align-self: flex-end; justify-self: flex-start;"
                onclick="document.querySelector('#myPopoverTrapFocusAutofocus').visible = false;"
                tabindex="0"
            >
                X
            </fast-button>
            <fast-button
                appearance="stealth"
                style="align-self: flex-end; justify-self: flex-start;"
                tabindex="0"
                autofocus
            >
                Should autofocus
            </fast-button>
        </fast-popover>

        <fast-button
            id="target-focusable-autofocus"
            style="margin: 200px;"
            onclick="(e) => e.stopPropagation(); document.body.querySelector('#myPopoverTrapFocusAutofocus').visible = !(document.body.querySelector('#myPopoverTrapFocusAutofocus').visible)"
        >
            target
        </fast-button>
    </div>

    <h2>No Trap Focus and Autofocus Element</h2>
    <div class="container">
        <fast-popover target="target-sized" id="myPopoverTwo" trap-focus="false">
            <fast-button
                appearance="stealth"
                style="align-self: flex-end; justify-self: flex-start;"
                tabindex="0"
            >
                Test Button
            </fast-button>
            <fast-button
                appearance="stealth"
                style="align-self: flex-end; justify-self: flex-start;"
                onclick="document.querySelector('#myPopoverTwo').visible = false;"
                tabindex="0"
                autofocus
            >
                X
            </fast-button>
        </fast-popover>

        <fast-button
            id="target-sized"
            style="margin: 200px;"
            onclick="(e) => e.stopPropagation(); document.body.querySelector('#myPopoverTwo').visible = !(document.body.querySelector('#myPopoverTwo').visible)"
        >
            target
        </fast-button>
    </div>

    <h2>Long Delay</h2>
    <div class="container">
        <fast-popover target="long-delay-target" id="myPopoverThree" delay="500">
            <fast-button
                appearance="stealth"
                style="align-self: flex-end; justify-self: flex-start;"
                onclick="document.querySelector('#myPopoverThree').visible = false;"
                tabindex="0"
            >
                X
            </fast-button>
            <fast-button
                appearance="stealth"
                style="align-self: flex-end; justify-self: flex-start;"
                onclick="document.querySelector('#myPopoverThree').visible = false;"
                tabindex="0"
            >
                X
            </fast-button>
            <p style="width: 200px; white-space: normal;">
                500ms. Double clicking the "target" button should only show one popover
                that is closeable with the "x" button.
            </p>
        </fast-popover>

        <fast-button
            id="long-delay-target"
            style="margin: 200px;"
            onclick="(e) => e.stopPropagation(); console.log(document.body.querySelector('#myPopoverThree').visible); document.body.querySelector('#myPopoverThree').visible = !(document.body.querySelector('#myPopoverThree').visible)"
        >
            target
        </fast-button>
    </div>

    <h2>Simple Form</h2>
    <div class="container">
        <fast-popover target="target-detailed" id="myPopoverDetailed">
            <fast-card class="real-world">
                <fast-button
                    style="float: right; margin: 5px;"
                    appearance="stealth"
                    style="align-self: flex-end; justify-self: flex-start;"
                    onclick="document.querySelector('#myPopoverDetailed').visible = false;"
                    tabindex="0"
                >
                    X
                </fast-button>

                <fast-text-field
                    class="real-world"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="real-world"
                    tabindex="0"
                    appearance="outline"
                    autofocus
                    placeholder="Should autofocus"
                ></fast-text-field>
                <fast-text-field
                    class="real-world"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Occupation"
                ></fast-text-field>
            </fast-card>
        </fast-popover>

        <fast-button
            id="target-detailed"
            style="margin: 200px;"
            onclick="(e) => e.stopPropagation();document.body.querySelector('#myPopoverDetailed').visible = !(document.body.querySelector('#myPopoverDetailed').visible)"
        >
            target
        </fast-button>
    </div>

    <h2>Simple Image</h2>
    <div class="container large" style="overflow: scroll;">
        <fast-popover target="target-image" id="myPopoverImage" position="right">
            <fast-card style="position: relative;">
                <fast-button
                    style="
                        float: right;
                        margin: 5px;
                        position: absolute;
                        right: 0;
                        top: 0;
                    "
                    appearance="stealth"
                    style="align-self: flex-end; justify-self: flex-start;"
                    onclick="document.querySelector('#myPopoverImage').visible = false;"
                    tabindex="0"
                >
                    X
                </fast-button>
                <img src="https://placehold.it/250" />
            </fast-card>
        </fast-popover>

        <fast-button
            id="target-image"
            style="margin: 200px;"
            onclick="(e) => e.stopPropagation();document.body.querySelector('#myPopoverImage').visible = !(document.body.querySelector('#myPopoverImage').visible)"
        >
            target
        </fast-button>
    </div>

    <h2>Detail Large Perf Test</h2>
    <div class="container large">
        <fast-popover target="target-perf" id="myPopoverPerf">
            <fast-card class="large-perf">
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Name"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    autofocus
                    placeholder="Should autofocus"
                ></fast-text-field>
                <fast-text-field
                    class="large-perf"
                    tabindex="0"
                    appearance="outline"
                    placeholder="Occupation"
                ></fast-text-field>
            </fast-card>
        </fast-popover>

        <fast-button
            id="target-perf"
            style="margin: 300px;"
            onclick="(e) => e.stopPropagation();document.body.querySelector('#myPopoverPerf').visible = !(document.body.querySelector('#myPopoverPerf').visible)"
        >
            target
        </fast-button>
    </div>

    <!-- <h2>Top</h2>
    <div class="container">
        <fast-popover position="top" target="target-top">
            Popover Content
        </fast-popover>

        <fast-button id="target-top" style="margin: 200px;">
            target
        </fast-button>
    </div>

    <h2>Right</h2>
    <div class="container">
        <fast-popover target="target-right" position="right">
            Popover Content
        </fast-popover>

        <fast-button id="target-right" style="margin: 200px;">
            target
        </fast-button>
    </div> -->

    <!-- <h2>Bottom</h2>
    <div class="container">
        <fast-popover target="target-bottom" position="bottom">
            Popover Content
        </fast-popover>

        <fast-button id="target-bottom" style="margin: 200px;">
            target
        </fast-button>
    </div>

    <h2>Left</h2>
    <div class="container">
        <fast-popover target="target-left" position="left">
            Popover Content
        </fast-popover>

        <fast-button id="target-left" style="margin: 200px;">
            target
        </fast-button>
    </div>

    <h2>Switch targets</h2>
    <div class="container">
        <fast-popover id="popover-target-switch">
            Popover Content
        </fast-popover>

        <fast-button id="target-target-switch-1" style="margin: 40px;">
            target
        </fast-button>

        <fast-button id="target-target-switch-2" style="margin: 40px;">
            target
        </fast-button>

        <fast-button id="target-target-switch-3" style="margin: 40px;">
            target
        </fast-button>

        <fast-button id="target-target-switch-4" style="margin: 40px;">
            target
        </fast-button>

        <fast-button id="target-target-switch-5" style="margin: 40px;">
            target
        </fast-button>

        <fast-button id="target-target-switch-6" style="margin: 40px;">
            target
        </fast-button>

        <fast-button id="target-target-switch-7" style="margin: 40px;">
            target
        </fast-button>

        <fast-button id="target-target-switch-8" style="margin: 40px;">
            target
        </fast-button>
    </div>

    <h2>RTL</h2>
    <div
        class="container"
        dir="rtl"
    >
        <fast-button id="target-rtl" style="margin: 200px;">
            target
        </fast-button>

        <fast-popover target="target-rtl" position="left">
            Left
        </fast-popover>

        <fast-popover target="target-rtl" position="right">
            Right
        </fast-popover>
    </div>

    <h2>start/end</h2>
    <div class="container">
        <fast-button id="target-se" style="margin: 200px;">
            target
        </fast-button>

        <fast-popover target="target-se" position="start">
            Start
        </fast-popover>

        <fast-popover target="target-se" position="end">
            End
        </fast-popover>
    </div>

    <h2>start/end RTL</h2>
    <div
        class="container"
        dir="rtl"
    >
        <fast-button id="target-sertl" style="margin: 200px;">
            target
        </fast-button>

        <fast-popover target="target-sertl" position="start">
            Start
        </fast-popover>

        <fast-popover target="target-sertl" position="end">
            End
        </fast-popover>
    </div> -->
</fast-design-system-provider>
